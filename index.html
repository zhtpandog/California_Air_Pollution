<!DOCTYPE html>
<html>
<head>
  <title>CA Air Pollution</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <style>
  body {
      position: relative; 
      background-color: black;
  }
  .affix {
      top:0;
      width: 100%;
      z-index: 9999 !important;
  }
  .navbar {
      margin-bottom: 0px;
  }

  .affix ~ .container-fluid {
     position: relative;
     top: 1px;
  }
  #section1 {padding-top:50px;height:800px;color: #fff; background-color: #493d26;}
  #section2 {padding-top:50px;height:800px;color: #fff; background-color: black;}
  #section3 {padding-top:50px;height:1100px;color: black; background-color: white;}
  #section4 {padding-top:50px;height:800px;color: #fff; background-color: grey;}
  #section5 {padding-top:50px;height:800px;color: #fff; background-color: black;}
  #section41 {padding-top:50px;height:500px;color: #fff; background-color: #00bcd4;}
  #section42 {padding-top:50px;height:500px;color: #fff; background-color: #009688;}
  </style>
</head>
<body data-spy="scroll" data-target=".navbar" data-offset="50">


<div id = "title" style="background-color:#262626; color: #e5e4e2; height: 70px;">
  <h1 style="font-size: 40pt;"> <center>California Air Pollution Dashboard</center></h1>
</div>
<div class="container-fluid" style="background-color:black;color:#fff;height: 100%;">
  <img src="Pollution.png" alt="pollution" style='height: 100%; width: 100%;'/>
</div>

<nav class="navbar navbar-inverse" data-spy="affix" data-offset-top="500">
  <div class="container-fluid">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" href="#"><strong>CA AIR POLLUTION DASHBOARD</strong></a>
    </div>
    <div>
      <div class="collapse navbar-collapse" id="myNavbar">
        <ul class="nav navbar-nav">
          <li><a href="#section1">Introdution</a></li>
          <li><a href="#section2">Map & Trend</a></li>
          <li><a href="#section3">Geographical Comparison</a></li>
          <li><a href="#section4">Pollution Composition</a></li>
          <li><a href="#section5">Bodily Harm</a></li>
          <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Information<span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a href="#section41">Data Processing</a></li>
              <li><a href="#section42">Team</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>    

<div id="section1" class="container-fluid">
  <h1>Project Introduction</h1>
  <p>Try to scroll this section and look at the navigation bar while scrolling! Try to scroll this section and look at the navigation bar while scrolling!</p>
  <p>Try to scroll this section and look at the navigation bar while scrolling! Try to scroll this section and look at the navigation bar while scrolling!</p>
</div>
<div id="section2" class="container-fluid">
  <h1>Map & Trend</h1>
  <p>Try to scroll this section and look at the navigation bar while scrolling! Try to scroll this section and look at the navigation bar while scrolling!</p>
  <p>Try to scroll this section and look at the navigation bar while scrolling! Try to scroll this section and look at the navigation bar while scrolling!</p>
</div>
<div id="section3" class="container-fluid">
  <h1>Geographical Comparison</h1>
  <p style="color: white;">space</p>
  <p style="font-size: 12pt;"> – Add/Remove Pollutant(s) from here: </p>
  <p style="font-size: 12pt;"> – Select sorting method from here: </p>
  <br></br>
  <script type="text/javascript">
      d3.csv("avg_county.csv", function (dataset) {
          var svgh = 800
          var svgw = 1000

          co_max = d3.max(dataset, function (d) {
            return d.Sample
          })

          svg = d3.select("#section3")
                  .append("svg")
                  .attr("id", "bar_svg")
                  .attr("width", svgw)
                  .attr("height", svgh)

          svg.selectAll("apple")
              .data(dataset)
              .enter()
              .filter(function (d) {
                return d.Pollutant === "CO"
              })
              .append("rect")
              .attr("class", "co_bar")
              .attr("y", function (d,i) {
                return svgh/14 *i 
              })
              .attr("x", 150)
              .attr("height", svgh/14/4 - 3)
              .attr("width", function (d) {
                return d.Sample * 5000
              })

          svg.selectAll("apple")
              .data(dataset)
              .enter()
              .filter(function (d) {
                return d.Pollutant === "NO2"
              })
              .append("rect")
              .attr("class", "no2_bar")
              .attr("y", function (d,i) {
                return svgh/14*i + svgh/14/4 - 3
              })
              .attr("x", 150)
              .attr("height", svgh/14/4 - 3)
              .attr("width", function (d) {
                return d.Sample * 5000
              })

          svg.selectAll("apple")
              .data(dataset)
              .enter()
              .filter(function (d) {
                return d.Pollutant === "Ozone"
              })
              .append("rect")
              .attr("class", "o3_bar")
              .attr("y", function (d,i) {
                return svgh/14*i + svgh/14/2 - 6
              })
              .attr("x", 150)
              .attr("height", svgh/14/4 - 3)
              .attr("width", function (d) {
                return d.Sample * 5000
              })

          svg.selectAll("apple")
              .data(dataset)
              .enter()
              .filter(function (d) {
                return d.Pollutant === "SO2"
              })
              .append("rect")
              .attr("class", "so2_bar")
              .attr("y", function (d,i) {
                return svgh/14*i + svgh/14/4*3 - 9
              })
              .attr("x", 150)
              .attr("height", svgh/14/4 - 3)
              .attr("width", function (d) {
                return d.Sample * 5000
              })
      })
  </script>
</div>
<div id="section4" class="container-fluid">
  <h1>Pollution Composition</h1>
  <p>Try to scroll this section and look at the navigation bar while scrolling! Try to scroll this section and look at the navigation bar while scrolling!</p>
  <p>Try to scroll this section and look at the navigation bar while scrolling! Try to scroll this section and look at the navigation bar while scrolling!</p>
</div>
<div id="section5" class="container-fluid">
  <h1>Bodily Harm</h1>
  <p>Try to scroll this section and look at the navigation bar while scrolling! Try to scroll this section and look at the navigation bar while scrolling!</p>
  <p>Try to scroll this section and look at the navigation bar while scrolling! Try to scroll this section and look at the navigation bar while scrolling!</p>
</div>
<div id="section41" class="container-fluid">
  <h1>Data Processing</h1>
  <p>Try to scroll this section and look at the navigation bar while scrolling! Try to scroll this section and look at the navigation bar while scrolling!</p>
  <p>Try to scroll this section and look at the navigation bar while scrolling! Try to scroll this section and look at the navigation bar while scrolling!</p>
</div>
<div id="section42" class="container-fluid">
  <h1>Team</h1>
  <p>Try to scroll this section and look at the navigation bar while scrolling! Try to scroll this section and look at the navigation bar while scrolling!</p>
  <p>Try to scroll this section and look at the navigation bar while scrolling! Try to scroll this section and look at the navigation bar while scrolling!</p>
</div>

</body>
</html>

